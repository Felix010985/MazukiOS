# MazukiOS

MazukiOS ÑÑ‚Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð°Ñ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ð½Ð°Ð¿Ð¸ÑÐ°Ð½Ð½Ð°Ñ Ð½Ð° C


## â“FAQ

#### ÐšÐ°Ðº Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ

Ð›ÑŽÐ±Ð¾Ð¹ x86 ÑÐ¼ÑƒÐ»ÑÑ‚Ð¾Ñ€ Ð¸Ð»Ð¸ Ð³Ð¸Ð¿ÐµÑ€Ð²Ð¸Ð·Ð¾Ñ€, Ð¸Ð»Ð¸ Ð½Ð° Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð¶ÐµÐ»ÐµÐ·Ðµ Ñ‡ÐµÑ€ÐµÐ· Ð¼ÐµÑ‚Ð¾Ð´ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Legacy Ð¸Ð»Ð¸ Ð¿Ð¾Ð´Ð¾Ð±Ð½Ð¾Ðµ

#### Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ MazukiOS Ð¸ Ð·Ð°Ñ‡ÐµÐ¼ Ð¾Ð½Ð° Ð½ÑƒÐ¶Ð½Ð°

MazukiOS ÑÑ‚Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð°Ñ ÐžÐ¡ ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð¸Ð¼ÐµÐµÑ‚ ÑÐ²Ð¾Ð¹ API, Ð¼Ð¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½ÑƒÑŽ libc Ð¸ Ð´Ñ€Ð°Ð¹Ð²ÐµÑ€Ð° Ð½Ð° ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ñƒ/Ð²Ð¸Ð´ÐµÐ¾

#### ÐšÐ°Ðº ÐµÐµ ÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ

Ð¡Ð¼. Ð½Ð¸Ð¶Ðµ


## ðŸ“šÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸

- libc Ð¸ api Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼
- VGA Ð²Ð¸Ð´ÐµÐ¾Ð²Ñ‹Ð²Ð¾Ð´ Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹ Ñ†Ð²ÐµÑ‚Ð¾Ð²
- Ð¢ÐµÐºÑÑ‚Ð¾Ð²Ð°Ñ Ð¾Ð±Ð¾Ð»Ð¾Ñ‡ÐºÐ°
- Ð¤Ð°Ð¹Ð»Ð¾Ð²Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° (Ð¿Ð¾ÐºÐ° Ð½Ðµ Ð³Ð¾Ñ‚Ð¾Ð²Ð°, Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ramdisk :p)


## ÐžÑ‚Ð·Ñ‹Ð²Ñ‹ Ð¸Ð»Ð¸ Ð¸Ð´ÐµÐ¸ Ð´Ð»Ñ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ³Ð¾ Ñ€ÐµÐ»Ð¸Ð·Ð°

Ð•ÑÐ»Ð¸ Ñƒ Ð²Ð°Ñ ÐµÑÑ‚ÑŒ Ð¾Ñ‚Ð·Ñ‹Ð², Ð²Ð¾Ð¿Ñ€Ð¾Ñ, Ð¸Ð´ÐµÑ Ñ‚Ð¾ Ð¾Ð±Ñ€Ð°Ñ‚Ð¸Ñ‚ÐµÑÑŒ ÐºÐ¾ Ð¼Ð½Ðµ Ð² ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¸ Ð¿Ð¾Ð´ Ð»ÑŽÐ±Ñ‹Ð¼ Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¼ Ð²Ð¸Ð´ÐµÐ¾. [ÐšÐ°Ð½Ð°Ð»](https://www.youtube.com/@FelixProfi0r1)

## ðŸ› ï¸Ð¡Ð±Ð¾Ñ€ÐºÐ° MazukiOS
### Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ

- Linux (ÐÐ° Windows Ð½Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ)

- ÐšÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ‚Ð¾Ñ€ x86_64-linux-gnu-gcc

- Ð›Ð¸Ð½ÐºÐµÑ€ x86_64-linux-gnu-ld

- grub-mkrescue Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ ISO

- qemu-system-x86_64/Ð»ÑŽÐ±Ð¾Ð¹ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ ÑÐ¼ÑƒÐ»ÑÑ‚Ð¾Ñ€ Ð´Ð»Ñ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ ISO

## ðŸ“‘Ð˜Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ð¿Ð¾ ÑÐ±Ð¾Ñ€ÐºÐµ

1. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ Ð´Ð»Ñ ÑÐ±Ð¾Ñ€ÐºÐ¸:
```bash
mkdir -p build/iso/boot/grub
```


2. ÐšÐ¾Ð¼Ð¿Ð¸Ð»Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð²ÑÐµ Ð¸ÑÑ…Ð¾Ð´Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹ .c Ð¸Ð· Ð¿Ð°Ð¿Ð¾Ðº kernel Ð¸ shell Ð² Ð¾Ð±ÑŠÐµÐºÑ‚Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹:
```bash
SRC_FILES=$(find kernel shell -name '*.c')
for src in $SRC_FILES; do
    x86_64-linux-gnu-gcc -Iinclude -c "$src" -o "build/$(basename ${src%.*}).o" \
        -ffreestanding -m32 -nostdlib -fno-pic -O0
done
```


3. Ð›Ð¸Ð½ÐºÑƒÐ¹Ñ‚Ðµ Ð¾Ð±ÑŠÐµÐºÑ‚Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹ Ð² ELF-Ð±Ð¸Ð½Ð°Ñ€Ð½Ð¸Ðº:
```bash
x86_64-linux-gnu-ld -m elf_i386 -T linker.ld -o build/kernel.elf build/*.o -n --no-warn-rwx-segment
```

4. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ISO Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ GRUB:
```bash
cp build/kernel.elf build/iso/boot/
cat > build/iso/boot/grub/grub.cfg << EOF
set timeout=5
set default=0

menuentry "MazukiOS (LiveCD)" {
    multiboot2 /boot/kernel.elf
    boot
}
EOF

grub-mkrescue -o build/mazukios.iso build/iso
```


Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ISO Ð² QEMU:
```bash
qemu-system-x86_64 -cdrom build/mazukios.iso -m 256M -no-reboot -no-shutdown
```
